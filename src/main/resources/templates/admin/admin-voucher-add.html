<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.w3.org/1999/xhtml"
      layout:decorate="~{admin/layout-admin.html}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Thêm mã giảm giá</title>
  <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="/assets/css/voucher.css">
</head>
<body>
<section class="container mt-4" layout:fragment="app-content">
  <!-- Thông báo lỗi nếu có -->
  <div th:if="${errorMessage}" class="alert alert-danger">
    <p th:text="${errorMessage}"></p>
  </div>

  <h2 class="mb-4">Thêm mã giảm giá mới</h2>

  <!-- Form thêm mã giảm giá -->
  <form th:action="@{/admin/vouchers/save}" th:method="post" id="voucherAddForm">
    <div class="form-group">
      <label for="voucherCode">Code giảm giá</label>
      <input type="text" id="voucherCode" name="voucherCode" class="form-control"
             placeholder="Nhập code giảm giá" required>
      <div id="codeError" class="text-danger hide-infor-voucher">Mã giảm giá đã tồn tại!</div>
    </div>

    <div class="form-group">
      <label for="voucherValue">Giá trị giảm</label>
      <input type="number" id="voucherValue" name="voucherValue" class="form-control" placeholder="Nhập giá trị giảm" min="1" max="100" required>
    </div>

    <div class="form-group">
      <label for="startDate">Ngày hiệu lực</label>
      <input type="datetime-local" id="startDate" name="startDate" class="form-control" required>
      <div id="startDateError" class="text-danger hide-infor-voucher">Ngày hiệu lực không được bỏ trống!</div>
    </div>

    <div class="form-group">
      <label for="endDate">Ngày hết hạn</label>
      <input type="datetime-local" id="endDate" name="endDate" class="form-control" required>
      <div id="endDateError" class="text-danger hide-infor-voucher">Ngày hết hạn không được bỏ trống!</div>
      <div id="dateError" class="text-danger hide-infor-voucher">Ngày hiệu lực phải nhỏ hơn ngày hết hạn!</div>
    </div>

    <div class="form-group">
      <label for="quantity">Số lượng</label>
      <input type="number" id="quantity" name="quantity" class="form-control" placeholder="Nhập số lượng" min="1" max="99999999" required>
    </div>

    <!-- Các giá trị mặc định -->
    <input type="hidden" name="used" value="false">

    <button type="submit" class="btn btn-success">Lưu mã giảm giá</button>
    <a href="/admin/vouchers" class="btn btn-secondary">Hủy</a>
  </form>

  <!-- Bootstrap JS -->
  <script src="/assets/js/jquery-3.6.0.min.js"></script>
  <script src="/assets/js/popper.min.js"></script>
  <script src="/assets/js/bootstrap.min.js"></script>
  <script src="/assets/js/admin/admin-voucher-add.js"></script>
</section>
</body>
</html>